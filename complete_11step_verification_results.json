{
  "timestamp": "2025-10-14T20:55:14.865535",
  "test_image": "test_images/product_to_verify.jpg",
  "reference_image": "reference/golden_product.jpg",
  "verdict": "COUNTERFEIT",
  "overall_confidence": 0.6765522124271472,
  "pipeline_results": [
    {
      "step": "1. Logo Detection (Template)",
      "status": "FAIL",
      "confidence": 0.3177339249735797,
      "processing_time_ms": 12.671947479248047,
      "details": {
        "template_match_score": 0.0,
        "motorola_logo_found": true,
        "motorola_confidence": 0.3177339249735797,
        "motorola_location": [
          200,
          162,
          64,
          64
        ],
        "template_location": null,
        "method": "Template: 0.000, Motorola: 0.318",
        "threshold": 0.8
      }
    },
    {
      "step": "3. Text & Serial Number OCR",
      "status": "ERROR",
      "confidence": 0.0,
      "processing_time_ms": 53.853750228881836,
      "details": {
        "message": "OCR failed: (1, \"Error: Tesseract (legacy) engine requested, but components are not present in C:\\\\Program Files\\\\Tesseract-OCR/tessdata/eng.traineddata!! Failed loading language 'eng' Tesseract couldn't load any languages! Could not initialize tesseract.\")"
      }
    },
    {
      "step": "4. QR/DMC Code Detection",
      "status": "SKIPPED",
      "confidence": 1.0,
      "details": {
        "message": "QR/DMC Detection are not present in the test to check"
      }
    },
    {
      "step": "5. Surface Defect Detection",
      "status": "FAIL",
      "confidence": 0.4183301991604506,
      "processing_time_ms": 56.80537223815918,
      "details": {
        "ssim_score": 0.5755321942287227,
        "defect_ratio": 0.2731419660701003,
        "defect_pixels": 121912,
        "method": "absdiff + SSIM + threshold"
      }
    },
    {
      "step": "6. Edge Detection (Canny)",
      "status": "PASS",
      "confidence": 0.10651669795638495,
      "processing_time_ms": 13.11802864074707,
      "details": {
        "edge_density": 0.02571903280863066,
        "edge_strength": 41.41551463033269,
        "edge_pixels": 11362,
        "total_pixels": 441774,
        "edge_density_pass": true,
        "edge_strength_pass": true,
        "canny_low_threshold": 100,
        "canny_high_threshold": 200,
        "method": "Canny edge detection with Sobel gradient analysis"
      }
    },
    {
      "step": "7. IC Outline/Geometry",
      "status": "FAIL",
      "confidence": 0.8673613293684371,
      "processing_time_ms": 19.70362663269043,
      "details": {
        "test_size": [
          857,
          311
        ],
        "reference_size": [
          798,
          328
        ],
        "size_deviation": 0.06288205269270737,
        "aspect_deviation": 0.13263867063156284,
        "area_deviation": 0.021573407227866943,
        "size_pass": false,
        "aspect_pass": false,
        "area_pass": true,
        "method": "contour analysis + bounding rect comparison"
      }
    },
    {
      "step": "8. Angle Detection",
      "status": "PASS",
      "confidence": 1.0,
      "processing_time_ms": 8.132457733154297,
      "details": {
        "lines_detected": 3,
        "avg_angle_deviation": 0.0,
        "max_angle_deviation": 0.0,
        "angle_tolerance": 2.0,
        "angle_pass": true,
        "method": "HoughLinesP + angle deviation analysis"
      }
    },
    {
      "step": "9. Color Surface Verification",
      "status": "PASS",
      "confidence": 1.0,
      "processing_time_ms": 10.071992874145508,
      "details": {
        "avg_color_bgr": [
          153,
          151,
          150
        ],
        "avg_color_lab": [
          153,
          151,
          150
        ],
        "color_difference": 0.0,
        "method": "LAB hist + compareHist"
      }
    },
    {
      "step": "10. Texture Verification",
      "status": "PASS",
      "confidence": 0.9238333217258857,
      "processing_time_ms": 18.743038177490234,
      "details": {
        "texture_distance": 0.011425001741117142,
        "texture_pass": true,
        "method": "Fast histogram + gradient texture analysis"
      }
    },
    {
      "step": "10.5 Font Verification",
      "status": "PASS",
      "confidence": 0.8066144637196085,
      "processing_time_ms": 38.57684135437012,
      "details": {
        "font_similarity": 0.8066144637196085,
        "shape_score": 0.757861852645874,
        "spacing_score": 0.7509314478960821,
        "stroke_score": 0.840682495631617,
        "edge_score": 0.9863125453226975,
        "font_pass": true,
        "method": "Font shape + spacing + stroke width + edge analysis"
      }
    },
    {
      "step": "10.6 AI Agent OEM Verification",
      "status": "PASS",
      "confidence": 0.7,
      "processing_time_ms": 14073.211908340454,
      "details": {
        "part_number": "FFKI9319",
        "manufacturer": "motorola",
        "oem_data_found": true,
        "oem_part_number": "FFKI9319",
        "oem_manufacturer": "Texas Instruments",
        "oem_description": "a close up of a microconnector with a motochrome on it",
        "oem_package": "Unknown",
        "oem_status": "Active",
        "is_obsolete": false,
        "ai_confidence": 0.7999999999999999,
        "method": "OCR + Hugging Face AI Agent + Vision-Language Model Analysis"
      }
    },
    {
      "step": "11. Correlation Analysis",
      "status": "FAIL",
      "confidence": 0.6251321873671252,
      "processing_time_ms": 0.0,
      "details": {
        "total_checks": 9,
        "passed_checks": 6,
        "failed_checks": 3,
        "skipped_checks": 1,
        "error_checks": 1,
        "pass_rate": 0.6666666666666666,
        "critical_failed": [
          "1. Logo Detection (Template)",
          "5. Surface Defect Detection"
        ],
        "weighted_confidence": 0.6251321873671252,
        "correlation_pass": false,
        "method": "Weighted composite analysis"
      }
    },
    {
      "step": "Final Verdict",
      "status": "FAIL",
      "confidence": 0.6765522124271472,
      "details": {
        "verdict": "COUNTERFEIT",
        "passed_checks": 6,
        "failed_checks": 4,
        "total_checks": 10,
        "critical_failed": true,
        "max_allowed_failures": 2,
        "method": "Weighted Analysis with Critical Check Validation"
      }
    }
  ],
  "summary": {
    "total_checks": 11,
    "passed": 6,
    "failed": 5,
    "skipped": 1,
    "errors": 1
  }
}